<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
  <style>
    main {
      padding: 10px 100px;
    }

    a.toHref {
      display: block;
      margin: 0 auto;
      width: 60px;
      font-size: 14px;
      height: 30px;
      text-align: center;
      line-height: 30px;
      background-color: #000;
      color: #fff;
      text-decoration: none;
      position: fixed;
      left: 0;
      bottom: 0;
    }

    .playInterface {
      height: 76vh;
      width: 100%;
      background-color: black;
      margin: 0 auto;
      border-radius: 10px;
      display: flex;
    }

    video {
      height: 100%;
      margin: 0 auto;
      border-radius: 10px;
    }

    .coverList {
      margin-top: 2px;
    }

    ul {
      user-select: none;
      display: flex;
      gap: 10px;
      overflow: hidden;
      overflow-x: scroll;
      border-radius: 10px;
    }

    li {
      width: 200px;
      height: 135px;
      flex-shrink: 0;
      /* 设置为 0，禁止收缩 */
      cursor: pointer;
      border: 4px solid transparent;
      border-radius: 10px;
    }

    li.acitve {
      border: 4px solid #000;
    }

    li img {
      width: 200px;
      height: 134px;
      border-radius: 10px;
      object-fit: cover;
    }

    li h4 {
      height: 135px;
      font-size: 14px;
      color: #fff;
      margin-top: 0;
      background-color: #000;
      padding: 10px;
      text-align: center;
      border-radius: 10px;
      transform: translateY(0);
      transition: .3s transform ease-in-out;
      user-select: text;
    }

    li h4.hover {
      transform: translateY(-138px);
    }

    .scroll {
      position: fixed;
      bottom: 40px;
      transform: translateY(-40px);
      z-index: 999;
      border: none;
      background-color: transparent;
      cursor: pointer;
    }


    .toleft {
      left: 0;
    }

    .toright {
      right: 0;
    }

    button img {
      width: 60px;
      height: 60px;
    }
  </style>
</head>

<body>
  <main>
    <a class="toHref" href="/python">去爬取</a>
    <section class="playInterface">
      <video controls></video>
    </section>
    <section class="coverList">
      <ul>
        {% for item in coverlist %}
        <li>
          <img src="{{item.img}}" data-url="{{item.url}}" alt="">
          <h4>{{item.name}}</h4>
        </li>
        {% endfor %}
      </ul>
    </section>
    <button class="scroll toleft"><img src="/left.png" alt=""></button>
    <button class="scroll toright"><img src="/right.png" alt=""></button>
  </main>

</body>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const video = document.querySelector('video')
    const ul = document.querySelector('.coverList ul')
    const coverListItems = document.querySelectorAll('.coverList li')
    const coverListItemsH4 = document.querySelectorAll('.coverList li h4')
    const coverListItemsImg = document.querySelectorAll('.coverList li img')
    const scroll = document.querySelectorAll('.scroll')
    coverListItems.forEach((item, index) => {
      item.addEventListener('mouseenter', () => {
        coverListItemsH4[index].classList.add('hover')
      })
      item.addEventListener('mouseleave', () => {
        coverListItemsH4[index].classList.remove('hover')
      })
      item.addEventListener('click', () => {
        video.src = coverListItemsImg[index].dataset.url
        coverListItems.forEach((item) => {
          item.classList.remove('acitve')
        })
        item.classList.add('acitve')
      })
    })
    scroll.forEach((item) => {
      item.addEventListener('click', () => {
        ul.scrollBy({
          left: item.classList.contains('toleft') ? -425 : 425,
          behavior: 'smooth'
        })
      })
    })

    // 添加滚轮事件监听器
    ul.addEventListener("wheel", function (event) {
      // event.deltaY 包含滚轮滚动的距离，正数表示向下滚动，负数表示向上滚动
      ul.scrollBy({
        left: event.deltaY < 0 ? -850 : 850,
        behavior: 'smooth'
      })
    });
  })
</script>

</html>
